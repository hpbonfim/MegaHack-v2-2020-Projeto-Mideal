function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{urUe:function(t,e,n){"use strict";n.r(e),n.d(e,"UserConfirmationModule",(function(){return L}));var r,o,i,c,a=n("kmnG"),s=n("qFsG"),u=n("bTqV"),f=n("tmjD"),l=n("tyNb"),p=n("mrSG"),b=n("3Pt+"),m={prefix:"fas",iconName:"paper-plane",icon:[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"]},h=n("PSD3"),d=n.n(h),v=n("cYo0"),g=n("MvzY"),_=n("fXoL"),y=n("4jKo"),C=n("mJcT"),O=n("FXLl"),P=n("tk/3"),S=((r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).API_URL="function/verify",r}return n}(O.a)).\u0275fac=function(t){return new(t||r)(_.Wb(P.b))},r.\u0275prov=_.Jb({token:r,factory:r.\u0275fac}),r),x=n("XiUz"),w=n("6NWb"),R=[{path:"",component:(o=function(){function t(e,n,r,o){var i=this;_classCallCheck(this,t),this.router=e,this.userDataService=n,this.userConfirmationSmsService=r,this.userConfirmationCodeService=o,this.faPaperPlane=m,this.handleSubmit=function(){return Object(p.a)(i,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.user._id,Object(v.a)(this.form),!this.form.invalid){t.next=3;break}return t.abrupt("return");case 3:return n=Object.assign(Object.assign({},this.form.value),{_id:e}),t.next=6,this.userConfirmationCodeService.post(n).toPromise();case 6:t.sent.verification&&d.a.fire("Sucesso","C\xf3dico validado!","success").then((function(){r.router.navigate(["/user-shell"])}));case 9:case"end":return t.stop()}}),t,this)})))},this.handleSendAgain=function(){return Object(p.a)(i,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.user._id,Object(v.a)(this.form),t.t0=this.form.invalid,t.t0){t.next=7;break}return t.next=6,this.userConfirmationSmsService.post({_id:e}).toPromise();case 6:d.a.fire("Sucesso","SMS enviado!","success");case 7:case"end":return t.stop()}}),t,this)})))},this.getErrorMessage=function(t){return Object(g.a)(i.form.get(t))}}return _createClass(t,[{key:"ngOnInit",value:function(){this.phoneNumber=this.userDataService.getPhoneNumber(),this.user=this.userDataService.getUserData(),this.createForm()}},{key:"createForm",value:function(){this.form=new b.d({code:new b.b("",[b.n.required])})}}]),t}(),o.\u0275fac=function(t){return new(t||o)(_.Nb(l.b),_.Nb(y.a),_.Nb(C.a),_.Nb(S))},o.\u0275cmp=_.Hb({type:o,selectors:[["app-user-confirmation"]],decls:22,vars:7,consts:[[1,"content"],["fxFlex","100","fxLayout","column","fxLayoutAlign","start center",1,"align-center"],["fxLayout","column","fxLayoutAlign","center center",1,"box"],["alt","Logo","src","../../assets/images/mideal-logo-black.png"],[1,"w-100",3,"formGroup"],["fxLayout","column"],[1,"color","accent"],["appearance","outline","color","primary"],["formControlName","code","type","text","ngDefaultControl","","matInput",""],["mat-raised-button","","color","accent",1,"btn-accent",3,"click"],["mat-raised-button","",3,"click"],[3,"icon"]],template:function(t,e){1&t&&(_.Sb(0,"div",0),_.Sb(1,"div",1),_.Sb(2,"div",2),_.Ob(3,"img",3),_.Sb(4,"form",4),_.Sb(5,"div",5),_.Sb(6,"p"),_.Sb(7,"span",6),_.vc(8,"Ol\xe1!"),_.Rb(),_.vc(9),_.dc(10,"mask"),_.Rb(),_.Sb(11,"mat-form-field",7),_.Sb(12,"mat-label"),_.vc(13,"C\xf3digo de confirma\xe7\xe3o"),_.Rb(),_.Ob(14,"input",8),_.Sb(15,"mat-error"),_.vc(16),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Sb(17,"button",9),_.ac("click",(function(){return e.handleSubmit()})),_.vc(18," Continuar "),_.Rb(),_.Sb(19,"button",10),_.ac("click",(function(){return e.handleSendAgain()})),_.vc(20," Enviar novamente "),_.Ob(21,"fa-icon",11),_.Rb(),_.Rb(),_.Rb(),_.Rb()),2&t&&(_.Bb(4),_.hc("formGroup",e.form),_.Bb(5),_.xc(" enviamos uma mensagem com o c\xf3digo de confirma\xe7\xe3o para o telefone ",_.ec(10,4,e.phoneNumber,"(00) 00009-0000"),", informe o c\xf3digo recebido abaixo para continuar: "),_.Bb(7),_.wc(e.getErrorMessage("code")),_.Bb(5),_.hc("icon",e.faPaperPlane))},directives:[x.a,x.c,x.b,b.o,b.k,b.e,a.b,a.e,b.a,s.a,b.j,b.c,a.a,u.a,w.a],pipes:[f.b],styles:["img[_ngcontent-%COMP%]{max-width:150px}form[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:80px}button[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]{max-width:300px}.box[_ngcontent-%COMP%]{min-width:300px;padding-top:200px}.content[_ngcontent-%COMP%]{height:100vh}.content-login[_ngcontent-%COMP%]{padding:30px}a[_ngcontent-%COMP%]{margin-top:10px}"]}),o)}],k=((i=function t(){_classCallCheck(this,t)}).\u0275mod=_.Lb({type:i}),i.\u0275inj=_.Kb({factory:function(t){return new(t||i)},imports:[[l.e.forChild(R)],l.e]}),i),j=n("PCNd"),L=((c=function t(){_classCallCheck(this,t)}).\u0275mod=_.Lb({type:c}),c.\u0275inj=_.Kb({factory:function(t){return new(t||c)},providers:[y.a,C.a,S],imports:[[k,j.a,f.c.forRoot(),a.d,s.b,u.b]]}),c)}}]);